<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">开发环境 | StreamX</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://streamxhub.com/docs/user-guide/development"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="开发环境 | StreamX"><meta data-react-helmet="true" name="description" content="StreamX 遵循 Apache-2.0 开源协议，将会是个长期更新的活跃项目，欢迎大家提交 PR 或 ISSUE 喜欢请给个 Star 您的支持是我们最大的动力。 该项目自开源以来就受到不少朋友的关注和认可，表示感谢。已陆续有来自金融，数据分析，车联网，智能广告，地产等公司的朋友在使用，也不乏来自一线大厂的朋友在使用。"><meta data-react-helmet="true" property="og:description" content="StreamX 遵循 Apache-2.0 开源协议，将会是个长期更新的活跃项目，欢迎大家提交 PR 或 ISSUE 喜欢请给个 Star 您的支持是我们最大的动力。 该项目自开源以来就受到不少朋友的关注和认可，表示感谢。已陆续有来自金融，数据分析，车联网，智能广告，地产等公司的朋友在使用，也不乏来自一线大厂的朋友在使用。"><link data-react-helmet="true" rel="icon" href="/image/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://streamxhub.com/docs/user-guide/development"><link data-react-helmet="true" rel="alternate" href="https://streamxhub.com/docs/user-guide/development" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://streamxhub.com/zh-CN/docs/user-guide/development" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://streamxhub.com/docs/user-guide/development" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.6c6e3e48.css">
<link rel="preload" href="/assets/js/runtime~main.6856e0c5.js" as="script">
<link rel="preload" href="/assets/js/main.3163195b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/image/logo.svg" alt="StreamX Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/image/logo.svg" alt="StreamX Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">StreamX</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/">Home</a><a href="https://github.com/streamxhub/streamx/releases" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Download</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Document</a><a class="navbar__item navbar__link" href="/team">Team</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/user">Users</a><a href="https://github.com/streamxhub/streamx/issues/507" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">FAQ</a><a href="https://github.com/streamxhub/streamx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/user-guide/development" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/zh-CN/docs/user-guide/development" target="_self" rel="noopener noreferrer" class="dropdown__link">简体中文</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">框架介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/docs/user-guide/deployment">用户手册</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/deployment">平台部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/quick-start">快速开始</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/user-guide/development">开发环境</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/development/dev-model">极速开发</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/dev-model">编程模型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/development/config">项目配置</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/connector/Kafka-Connector">DataStream Connector</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connector/Kafka-Connector">Apache Kafka Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connector/Jdbc-Connector">Jdbc Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connector/Clickhouse-Connector">Clickhouse-Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connector/Http-Connector">Http Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connector/Redis-Connector">Redis Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connector/Hbase-Connector">Hbase Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connector/Elasticsearch-Connector">Elasticsearch Connector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connector/MongoDb-Connector">MongoDb Connector</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/flink-k8s/k8s-dev">Deployment</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink-k8s/k8s-dev">Flink K8s 集成支持</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink-k8s/k8s-pvc-integration">K8s PVC 资源使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink-k8s/hadoop-resource-integration">Hadoop 资源集成</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>开发环境</h1></header><blockquote><p><a href="https://github.com/streamxhub/streamx" target="_blank" rel="noopener noreferrer">StreamX</a> 遵循 Apache-2.0 开源协议，将会是个长期更新的活跃项目，欢迎大家提交 <a href="https://github.com/streamxhub/streamx/pulls" target="_blank" rel="noopener noreferrer">PR</a> 或 <a href="https://github.com/streamxhub/streamx/issues/new/choose" target="_blank" rel="noopener noreferrer">ISSUE</a> 喜欢请给个 <a href="https://github.com/streamxhub/streamx/stargazers" target="_blank" rel="noopener noreferrer">Star</a> 您的支持是我们最大的动力。 该项目自开源以来就受到不少朋友的关注和认可，表示感谢。已陆续有来自金融，数据分析，车联网，智能广告，地产等公司的朋友在使用，也不乏来自一线大厂的朋友在使用。
同时 StreamX 社区是一个非常开放,相互协助,尊重人才的社区。我们也非常欢迎更多的开发者加入一块贡献，不只是代码的贡献，还寻求使用文档，体验报告，问答等方面的贡献。</p></blockquote><p>越来越多的开发者已经不满足简单的安装使用，需要进一步研究或基于其源码二开或扩展相关功能，这就需要进一步的对 StreamX 深入了解。 本章节具体讲讲如何在本地搭建 <code>streamx-console</code> 流批一体平台的开发环境，为了方便讲解，本文中所说的 <code>streamx-console</code> 均指 <code>streamx-console 平台</code>。 </p><p>StreamX Console 从 1.2.0 开始实现了 Flink-Runtime 的解耦，即<strong>不强制依赖 Hadoop 或 Kubernetes 环境</strong>，可以根据实际开发/使用需求自行安装 Hadoop 或 Kubernetes。</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安装-hadoop可选yarn-runtime">安装 Hadoop（可选，YARN Runtime）<a class="hash-link" href="#安装-hadoop可选yarn-runtime" title="Direct link to heading">​</a></h2><p>关于 hadoop 环境有两种方式解决，<code>本地安装 hadoop 环境</code> 和 <code>使用已有的 hadoop 环境</code>,不论是本地安装 hadoop 环境还是使用已有的 hadoop 环境，都需要确保以下条件</p><ul><li>安装并且配置好 <code>hadoop</code>,<code>yarn</code></li><li>已配置 <code>HADOOP_HOME</code> 和 <code>HADOOP_CONF_DIR</code></li><li>已成功启动 <code>hadoop</code> 和 <code>yarn</code></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="本地安装-hadoop-环境">本地安装 Hadoop 环境<a class="hash-link" href="#本地安装-hadoop-环境" title="Direct link to heading">​</a></h3><p>关于如何在本地安装 Hadoop 环境可自行查阅相关资料，这里不作过多讲解。</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="使用已有-hadoop-集群">使用已有 Hadoop 集群<a class="hash-link" href="#使用已有-hadoop-集群" title="Direct link to heading">​</a></h3><p>推荐使用已有的 Hadoop 集群 ( 测试环境 ) ,如使用已有 hadoop 集群需要将以下配置 copy 到开发机器</p><ul><li><code>core-site.xml</code>, <code>hdfs-site.xml</code>, <code>yarn-site.xml</code> 这三个配置文件 copy 到开发机器</li><li>如果开启了 kerberos 认证，需要将 <code>keytab</code> 文件和 <code>krb5.conf</code> copy 到开发机器</li></ul><p>需要注意的是，<code>core-site.xml</code>, <code>hdfs-site.xml</code>, <code>yarn-site.xml</code> 这些配置文件里的一系列主机地址 ( host ) 需要在当前的开发机器上配置出来，需要确保本机可以连接集群里的机器。  </p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安装-kubernetes-可选k8s-runtime">安装 Kubernetes （可选，K8s Runtime）<a class="hash-link" href="#安装-kubernetes-可选k8s-runtime" title="Direct link to heading">​</a></h2><p>本地开发可以通过 MiniKube 或 KubeSphere 等项目快速安装 Kubernetes 环境，当然选择现有的 K8s Cluster 设施更加推荐。此外按时计费的腾讯云 TKE / 阿里云 ACK 也是快速开发很好的选择。</p><p>额外配置需求请参考： <a href="/docs/flink-k8s/k8s-dev"><strong>StreamX Flink-K8s 集成支持</strong></a>  </p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安装-flink可选standalone-runtime">安装 Flink（可选，Standalone Runtime）<a class="hash-link" href="#安装-flink可选standalone-runtime" title="Direct link to heading">​</a></h2><p>从官网下载 Flink,并且启动测试，配置 FLINK_HOME</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">wget</span><span class="token plain"> https://mirrors.bfsu.edu.cn/apache/flink/flink-1.13.1/flink-1.13.1-bin-scala_2.11.tgz</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">tar</span><span class="token plain"> xzf flink-1.13.1-bin-scala_2.11.tgz /opt/</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> /opt/flink-1.13.1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>启动本地 Flink 群集，可以检查下 flink 是否正常启动</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token plain">./bin/start-cluster.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安装-maven">安装 Maven<a class="hash-link" href="#安装-maven" title="Direct link to heading">​</a></h2><p>最新的 Maven 下载地址：<code>http://maven.apache.org/download.cgi</code>，我们创建一个连接，以便 mvn 可以在任何地方运行。</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> ~</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">wget</span><span class="token plain"> https://mirrors.bfsu.edu.cn/apache/maven/maven-3/3.8.1/binaries/apache-maven-3.8.1-bin.tar.gz</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">tar</span><span class="token plain"> -xzvf apache-maven-3.8.1-bin.tar.gz</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">ln</span><span class="token plain"> -s /root/apache-maven-3.8.1/bin/mvn /usr/bin/mvn</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安装-mysql">安装 MySQL<a class="hash-link" href="#安装-mysql" title="Direct link to heading">​</a></h2><p><code>console</code> 用到了 MySQL,因此需要准备 MySQL 环境，你可以本地安装 MySQL,也可以直接使用已有的 MySQL,关于 MySQL 的安装配置，请自行查阅资料，这里不作过多讲解</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安装-nodejs">安装 Nodejs<a class="hash-link" href="#安装-nodejs" title="Direct link to heading">​</a></h2><p><code>console</code> 前端部分采用 nodejs 开发，需要 nodejs 环境，下载安装最新的 nodejs 即可</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="安装配置-streamx">安装配置 StreamX<a class="hash-link" href="#安装配置-streamx" title="Direct link to heading">​</a></h2><p>如果以上准备工作都已经就绪，此时就可以安装配置 <code>streamx-console</code> 了，<code>streamx-console</code> 是前后端分离的项目，在项目最终打包部署时为了方便快捷，减少用户的使用和学习成本，使用了前后端混合打包部署模式，但在开发阶段建议使用前后端分离模式进行开发调试，具体步骤如下</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="后端">后端<a class="hash-link" href="#后端" title="Direct link to heading">​</a></h3><p><code>streamx-console</code> 后端采用 springBoot + Mybatis 开发， JWT 权限验证，非常常见的后端技术栈。下面来看看后端按照部署具体流程</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="编译">编译<a class="hash-link" href="#编译" title="Direct link to heading">​</a></h4><p>首先将 <code>StreamX</code> 工程下载到本地并且编译</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> clone https://github.com/streamxhub/streamx.git</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> streamx</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mvn clean </span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> -DskipTests -Denv</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">prod</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="解包">解包<a class="hash-link" href="#解包" title="Direct link to heading">​</a></h4><p>安装完成之后就看到最终的工程文件解包，位于 <code>streamx/streamx-console/streamx-console-service/target/streamx-console-service-${version}-bin.tar.gz</code>,解包之后的目录如下:</p><div class="codeBlockContainer_J+bg language-textmate theme-code-block"><div class="codeBlockContent_csEI textmate"><pre tabindex="0" class="prism-code language-textmate codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">streamx-console-service-${version}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">├── bin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── flame-graph</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├──   └── *.py</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── startup.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── setclasspath.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── shutdown.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── yaml.sh</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">├── conf</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── application.yaml</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── flink-application.template</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── logback-spring.xml</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    └── ...</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">├── lib</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    └── *.jar</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">├── plugins</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    ├── streamx-jvm-profiler-1.0.0.jar</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    └── streamx-flink-sqlclient-1.0.0.jar</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">├── logs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">├── temp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>将解包后的整个工程文件 copy 到 target 之外的其他任意位置即可完成此步骤，该步主要是防止下次执行 mvn clean 被清理，如放到 <code>/opt/streamx/</code>,则此时该文件的完整路径是 <code>/opt/streamx/streamx-console-service-${version}</code>,记住这个路径，后面会用到</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="配置">配置<a class="hash-link" href="#配置" title="Direct link to heading">​</a></h4><p>用 IDE 导入刚从 git 上 clone 下来的 StreamX 源码 ( 推荐使用 <code>IntelliJ IDEA</code> ) ,进入到 <code>resources</code> 下，编辑 application.xml,找到 <code>datasource</code>,修改下 jdbc 的连接信息，具体可参考安装部署章节 <a href="http://www.streamxhub.com/zh/doc/console/deploy/#%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreferrer">修改配置</a> 部分</p><img src="/doc/image/streamx_conf.jpg"><p>如果你要连接的目标集群开启了 kerberos 认证，则需要配置 kerberos 信息，在 <code>resources</code> 下找到 <code>kerberos.xml</code> 配置上相关信息即可，默认 kerberos 是关闭状态，要启用需将 <code>enable</code> 设置为 true, 如下:</p><div class="codeBlockContainer_J+bg language-yml theme-code-block"><div class="codeBlockContent_csEI yml"><pre tabindex="0" class="prism-code language-yml codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token key atrule">security</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">kerberos</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token key atrule">login</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token key atrule">enable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token boolean important">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token key atrule">principal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token key atrule">krb5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token key atrule">keytab</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key atrule">java</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token key atrule">security</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token key atrule">krb5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      conf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="启动">启动<a class="hash-link" href="#启动" title="Direct link to heading">​</a></h4><p><code>streamx-console</code> 是基于 springBoot 开发的 web 应用，<code>com.streamxhub.streamx.console.StreamXConsole</code> 为主类， 在启动主类之前，需要设置下 <code>VM options</code> 和 <code>Environment variables</code></p><h5 class="anchor anchorWithStickyNavbar_y2LR" id="vm-options">VM options<a class="hash-link" href="#vm-options" title="Direct link to heading">​</a></h5><p>在 <code>VM options</code> 需要设置 <code>app.home</code>:值为上面解包后的 streamx-console 的完整路径:</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token plain">-Dapp.home</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">/opt/streamx/streamx-console-service-</span><span class="token variable" style="color:rgb(9, 134, 88)">${version}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><br>如果开发机使用的 jdk 版本是 jdk1.8 以上版本， 则需要加上如下参数: <br><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token plain">--add-opens java.base/jdk.internal.loader</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">ALL-UNNAMED --add-opens jdk.zipfs/jdk.nio.zipfs</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">ALL-UNNAMED</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h5 class="anchor anchorWithStickyNavbar_y2LR" id="environment-variables">Environment variables<a class="hash-link" href="#environment-variables" title="Direct link to heading">​</a></h5><p>如使用非本地安装的 hadoop 集群 ( 测试 hadoop ) <code>Environment variables</code> 中需要配置 <code>HADOOP_USER_NAME</code> 和 <code>HADOOP_CONF_DIR</code>,
<code>HADOOP_USER_NAME</code> 为 hdfs 或者有读写权限的 hadoop 用户名，<code>HADOOP_CONF_DIR</code> 为上面第一步安装 hadoop 步骤中从测试集群 copy 相关配置文件在开发机器上的存放位置，如果是本地安装的 hadoop 则不需要配置该项，</p><img src="/doc/image/streamx_ideaopt.jpg"><p>如果一切准假就绪，就可以直接启动 <code>StreamXConsole</code> 主类启动项目，后端就启动成功了。会看到有相关的启动信息打印输出</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="前端">前端<a class="hash-link" href="#前端" title="Direct link to heading">​</a></h3><p>streamx web 前端部分采用 nodejs + vue 开发，因此需要在机器上按照 node 环境，完整流程如下:</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="修改配置">修改配置<a class="hash-link" href="#修改配置" title="Direct link to heading">​</a></h4><p>由于是前后端分离项目，前端需要知道后端 ( streamx-console ) 的访问地址，才能前后配合工作，因此需要更改Base API,具体位置在:
<code>streamx-console/streamx-console-webapp/.env.development</code></p><p><img alt="web配置" src="/assets/images/streamx_websetting-f54589c2652dafc8fa37cd8e995e68b4.png"></p><p>配置默认如下:</p><div class="codeBlockContainer_J+bg language-javascript theme-code-block"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token constant" style="color:rgb(129, 31, 63)">VUE_APP_PORT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10003</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token constant" style="color:rgb(129, 31, 63)">VUE_APP_BASE_API</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> http</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">localhost</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token number" style="color:rgb(9, 134, 88)">10000</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>参数说明:</p><ul><li><code>VUE_APP_PORT</code>: 前端项目启动的端口</li><li><code>VUE_APP_BASE_API</code>: 请求后端的url地址</li></ul><h4 class="anchor anchorWithStickyNavbar_y2LR" id="编译项目">编译项目<a class="hash-link" href="#编译项目" title="Direct link to heading">​</a></h4><p>接下来需要编译项目，具体步骤如下:</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> streamx-console/streamx-console-webapp</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">install</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="启动项目">启动项目<a class="hash-link" href="#启动项目" title="Direct link to heading">​</a></h4><p>以上步骤执行完毕即可启动项目即可</p><div class="codeBlockContainer_J+bg language-shell theme-code-block"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#000000"><span class="token builtin class-name" style="color:rgb(38, 127, 153)">cd</span><span class="token plain"> streamx-console/streamx-console-webapp</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">npm</span><span class="token plain"> run serve</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/streamxhub/streamx-website/edit/dev/docs/user-guide/development.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/user-guide/quick-start"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">快速开始</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/development/dev-model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">编程模型</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#安装-hadoop可选yarn-runtime" class="table-of-contents__link toc-highlight">安装 Hadoop（可选，YARN Runtime）</a><ul><li><a href="#本地安装-hadoop-环境" class="table-of-contents__link toc-highlight">本地安装 Hadoop 环境</a></li><li><a href="#使用已有-hadoop-集群" class="table-of-contents__link toc-highlight">使用已有 Hadoop 集群</a></li></ul></li><li><a href="#安装-kubernetes-可选k8s-runtime" class="table-of-contents__link toc-highlight">安装 Kubernetes （可选，K8s Runtime）</a></li><li><a href="#安装-flink可选standalone-runtime" class="table-of-contents__link toc-highlight">安装 Flink（可选，Standalone Runtime）</a></li><li><a href="#安装-maven" class="table-of-contents__link toc-highlight">安装 Maven</a></li><li><a href="#安装-mysql" class="table-of-contents__link toc-highlight">安装 MySQL</a></li><li><a href="#安装-nodejs" class="table-of-contents__link toc-highlight">安装 Nodejs</a></li><li><a href="#安装配置-streamx" class="table-of-contents__link toc-highlight">安装配置 StreamX</a><ul><li><a href="#后端" class="table-of-contents__link toc-highlight">后端</a></li><li><a href="#前端" class="table-of-contents__link toc-highlight">前端</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">StreamX</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Document</a></li><li class="footer__item"><a href="https://github.com/streamxhub/streamx/issues/507" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/streamxhub/streamx/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Releases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/streamxhub/streamx" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/streamxhub/streamx/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/streamxhub/streamx/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Pull Requests<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p style="padding: 0 20px 30px;color: #999999; font-weight: 400;">Apache LICENSE 2.0 Licensed, Copyright © 2019-2022 streamxhub All Rights Reserved</p></div></div></div></footer></div>
<script src="/assets/js/runtime~main.6856e0c5.js"></script>
<script src="/assets/js/main.3163195b.js"></script>
</body>
</html>